<div class="col-10 offset-1">
  <mat-card>
    <div class="row">
      <div class="col-12">
        <h2 class="text-success">Would you like to book this menu?</h2>
        <h5>You can chat with the host. The host will confirm your book</h5>
      </div>
    </div>
    <div class="row">
      <div class="col-5" *ngIf="menu">
        <mat-vertical-stepper>
          <mat-step [stepControl]="persons">
            <form [formGroup]="persons">
              <ng-template matStepLabel>How many people do you want to book?</ng-template>
              <mat-form-field>
                <mat-select placeholder="Persons" required formControlName="persons">
                  <mat-option *ngFor="let person of available" [value]="person">{{person}}</mat-option>
                </mat-select>
              </mat-form-field>
              <div>
                <button mat-raised-button color="accent" matStepperNext>Next
                  <mat-icon>keyboard_arrow_right</mat-icon>
                </button>
              </div>
            </form>
          </mat-step>
          <mat-step [stepControl]="comments">
            <form [formGroup]="comments">
              <ng-template matStepLabel>If you have comments, any allergies ...</ng-template>
              <mat-form-field>
                  <textarea matInput placeholder="Comments" formControlName="comments" required matTextareaAutosize
                            matAutosizeMinRows="4"
                            matAutosizeMaxRows="5" maxlength="100"></textarea>
              </mat-form-field>
              <div>
                <button mat-raised-button color="accent" matStepperNext>Next
                  <mat-icon>keyboard_arrow_right</mat-icon>
                </button>
              </div>
            </form>
          </mat-step>
          <mat-step>
            <ng-template matStepLabel>Are you sure to book this menu?</ng-template>
            <button mat-raised-button color="warn" class="booking" (click)="bookMenu()">
              BOOK MENU
            </button>
          </mat-step>
        </mat-vertical-stepper>
      </div>
      <div class="col-4" *ngIf="menu">
        <app-menu-info state="booking" [date]="menu.date" [guests]="menu.guests" [available]="menu.available"
                       [price]="menu.price"
                       [name]="menu.name" [description]="menu.description" [starters]="menu.starters"
                       [mains]="menu.mains" [desserts]="menu.desserts"
                       [host]="menu.host" [address]="menu.address">
        </app-menu-info>
      </div>
      <div class="col-3" *ngIf="rates">
        <perfect-scrollbar style="max-height: 400px;">
          <h6>Ratings</h6>
          <div *ngFor="let rate of rates">
            <app-rate [rate]="rate"></app-rate>
          </div>
        </perfect-scrollbar>
      </div>
    </div>
  </mat-card>
</div>
