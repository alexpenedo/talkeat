<div class="col-10 offset-1">
  <mat-horizontal-stepper linear>
    <mat-step [stepControl]="menuDescription">
      <form [formGroup]="menuDescription">
        <ng-template matStepLabel>Describe your menu</ng-template>
        <mat-form-field>
          <input matInput placeholder="Name" required formControlName="name" required>
        </mat-form-field>
        <mat-form-field>
          <textarea matInput placeholder="Description" formControlName="description" required matTextareaAutosize matAutosizeMinRows="4"
            matAutosizeMaxRows="5"></textarea>
        </mat-form-field>
        <div>
          <button mat-raised-button color="accent" matStepperNext>Next
            <mat-icon>keyboard_arrow_right</mat-icon>
          </button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="addDishes">
      <form [formGroup]="addDishes">
        <ng-template matStepLabel>Add your dishes</ng-template>
        <div class="row">
          <div class="col-4">
            <app-add-dishes [group]="addDishes" arrayName="starters" title="Starters" image="/assets/img/background3.jpeg" description="Add here your starters, like a salad or a soup"></app-add-dishes>
          </div>
          <div class="col-4">
            <app-add-dishes [group]="addDishes" arrayName="mains" title="Mains" image="/assets/img/background.jpeg" description="Add here your main dishes like a paella or a burger"></app-add-dishes>
          </div>
          <div class="col-4">
            <app-add-dishes [group]="addDishes" arrayName="desserts" title="Desserts/Coffee" image="/assets/img/background2.jpeg" description="Add here your desserts like a cheesecake or coffee"></app-add-dishes>
          </div>
        </div>
        <div>
          <button mat-raised-button color="accent" matStepperPrevious>
            <mat-icon>keyboard_arrow_left</mat-icon>Back
          </button>
          <button mat-raised-button color="accent" matStepperNext>Next
            <mat-icon>keyboard_arrow_right</mat-icon>
          </button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="completeData">
      <form [formGroup]="completeData">
        <ng-template matStepLabel>Complete last data</ng-template>
        <div class="row">
          <div class="col-3">
            <mat-form-field>
              <mat-select placeholder="Guests" required formControlName="guests">
                <mat-option value="1">1</mat-option>
                <mat-option value="2">2</mat-option>
                <mat-option value="3">3</mat-option>
                <mat-option value="4">4</mat-option>
                <mat-option value="5">5</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-3">
            <mat-form-field>
              <input matInput placeholder="Price" required formControlName="price">
              <mat-icon matSuffix>attach_money</mat-icon>
            </mat-form-field>
          </div>
          <div class="col-3">
            <mat-form-field>
              <input matInput [matDatepicker]="picker" placeholder="Choose a date" formControlName="date">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-3">
            <mat-form-field>
              <input matInput placeholder="Time" type="time" formControlName="time" (input)="setTime($event.target.value)" required>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <mat-form-field>
              <input matInput required formControlName="address" placeholder="Address" required>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-4">
            <mat-form-field>
              <input matInput required formControlName="postalCode" placeholder="Postal Code" required>
            </mat-form-field>
          </div>
          <div class="col-8">
            <mat-form-field>
              <input matInput required formControlName="country" placeholder="Country" required>
            </mat-form-field>
          </div>
        </div>
        <div>
          <button mat-raised-button color="accent" matStepperPrevious>
            <mat-icon>keyboard_arrow_left</mat-icon>Back
          </button>
          <button mat-raised-button color="accent" matStepperNext>Next
            <mat-icon>keyboard_arrow_right</mat-icon>
          </button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Confirm your menu</ng-template>
      <mat-card class="col-4">
        <img mat-card-image src="/assets/img/dish.jpeg">
        <mat-chip-list class="chip">
          <mat-chip color="accent">{{completeData.get('date').value | date: 'dd/MM/yyyy'}} {{completeData.get('time').value}}</mat-chip>
          <mat-chip color="accent">{{completeData.get('guests').value}}
            <mat-icon>person_pin</mat-icon>
          </mat-chip>
          <mat-chip color="accent">{{completeData.get('price').value}}
            <mat-icon matSuffix>attach_money</mat-icon>
          </mat-chip>
        </mat-chip-list>
        <mat-card-title class="title">
          {{menuDescription.get('name').value}}
          <span>
            <app-user-image [image]="image" diameter="70px" float="right"></app-user-image>
          </span>
        </mat-card-title>
        <mat-card-header>
          <mat-card-subtitle>{{menuDescription.get('description').value}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            <h3 mat-subheader>Starters</h3>
            <mat-list-item *ngFor="let dish of addDishes.get('starters').value">
              {{dish.name}}
            </mat-list-item>
            <mat-divider></mat-divider>
            <h3 mat-subheader>Mains</h3>
            <mat-list-item *ngFor="let dish of addDishes.get('mains').value">
              {{dish.name}}
            </mat-list-item>
            <mat-divider></mat-divider>
            <h3 mat-subheader>Desserts</h3>
            <mat-list-item *ngFor="let dish of addDishes.get('desserts').value">
              {{dish.name}}
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>

      <div>
        <button mat-raised-button color="accent" matStepperPrevious (click)="saveMenu()">
          <mat-icon>keyboard_arrow_left</mat-icon>Back
        </button>
        <button mat-raised-button color="accent" matStepperPrevious (click)="saveMenu()">
          <mat-icon>keyboard_arrow_left</mat-icon>Back
        </button>
      </div>
    </mat-step>
  </mat-horizontal-stepper>
</div>